{"version":3,"file":"index.cjs","sources":["../../src/vite/helpers.ts","../../src/vite/git.ts","../../src/vite/locales.ts","../../src/vite/i18n.ts","../../src/vite/markdownSection.ts"],"sourcesContent":["import { basename, dirname, extname, posix, relative, sep, win32 } from 'node:path'\nimport { subtle } from 'uncrypto'\nimport { normalizePath } from 'vite'\nimport { execa } from 'execa'\nimport type { Commit } from '../types'\n\nexport interface Helpers {\n  /**\n   * A helper function to help to determine whether the passed string parameter equals the\n   * current transforming module ID with normalization of paths capabilities and\n   * cross platform / OS compatibilities.\n   *\n   * @param equalsWith - String to equal with\n   * @returns boolean\n   */\n  idEquals: (equalsWith: string) => boolean\n  /**\n   * A helper function to help to determine whether the passed string parameter startsWith the\n   * current transforming module ID with normalization of paths capabilities and\n   * cross platform / OS compatibilities.\n   *\n   * @param startsWith - String to start with\n   * @returns boolean\n   */\n  idStartsWith: (startsWith: string) => boolean\n  /**\n   * A helper function to help to determine whether the passed string parameter endsWith the\n   * current transforming module ID with normalization of paths capabilities and\n   * cross platform / OS compatibilities.\n   *\n   * @param endsWith - String to end with\n   * @returns boolean\n   */\n  idEndsWith: (endsWith: string) => boolean\n  /**\n   * A helper function to help to determine whether the passed first path parameter\n   * equals the second passed string with normalization of paths capabilities and\n   * cross platform / OS compatibilities.\n   *\n   * @param path - Path to be compared with\n   * @param equalsWith - String to equal with\n   * @returns boolean\n   */\n  pathEquals: (path: string, equalsWith: string) => boolean\n  /**\n   * A helper function to help to determine whether the passed first path parameter\n   * startsWith the second passed string with normalization of paths capabilities and\n   * cross platform / OS compatibilities.\n   *\n   * @param path - Path to be compared with\n   * @param startsWith - String to start with\n   * @returns boolean\n   */\n  pathStartsWith: (path: string, startsWith: string) => boolean\n  /**\n   * A helper function to help to determine whether the passed first path parameter\n   * endsWith the second passed string with normalization of paths capabilities and\n   * cross platform / OS compatibilities.\n   *\n   * @param path - Path to be compared with\n   * @param endsWith - String to end with\n   * @returns boolean\n   */\n  pathEndsWith: (path: string, endsWith: string) => boolean\n}\n\nexport function pathEquals(path: string, equals: string): boolean {\n  return normalizePath(path) === (normalizePath(equals))\n}\n\nexport function pathStartsWith(path: string, startsWith: string): boolean {\n  return normalizePath(path).startsWith(normalizePath(startsWith))\n}\n\nexport function pathEndsWith(path: string, startsWith: string): boolean {\n  return normalizePath(path).endsWith(normalizePath(startsWith))\n}\n\nexport function createHelpers(root: string, id: string): Helpers {\n  const relativeId = relative(root, id)\n\n  return {\n    pathStartsWith,\n    pathEquals,\n    pathEndsWith,\n    idEndsWith(endsWith: string) {\n      return pathEndsWith(relativeId, endsWith)\n    },\n    idEquals(equals: string) {\n      return pathEquals(relativeId, equals)\n    },\n    idStartsWith(startsWith: string) {\n      return pathStartsWith(relativeId, startsWith)\n    },\n  }\n}\n\n/**\n * Hashes a string using SHA-256\n *\n * Official example by MDN: https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest\n * @param {string} message - The message to be hashed\n * @returns {Promise<string>} - The SHA-256 hash of the message\n */\nexport async function digestStringAsSHA256(message: string) {\n  const msgUint8 = new TextEncoder().encode(message) // encode as (utf-8) Uint8Array\n  const hashBuffer = await subtle.digest('SHA-256', msgUint8) // hash the message\n  const hashArray = Array.from(new Uint8Array(hashBuffer)) // convert buffer to byte array\n  const hashHex = hashArray\n    .map(b => b.toString(16).padStart(2, '0'))\n    .join('') // convert bytes to hex string\n  return hashHex\n}\n\nexport function normalizeGitLogPath(path: string[][]) {\n  // normalize paths\n  for (const [index, files] of path.entries()) {\n    if (files[1])\n      path[index][1] = normalizePath(files[1])\n\n    if (files[2])\n      path[index][2] = normalizePath(files[2])\n  }\n\n  return path\n}\n\nexport type CommitToStringHandler = (commit: Commit) => string | Promise<string> | null | undefined\nexport type CommitToStringsHandler = (commit: Commit) => string[] | Promise<string[]> | null | undefined\nexport type CommitAndPathToStringHandler = (commit: Commit, path: string) => string | Promise<string> | null | undefined\nexport interface RewritePathsBy { handler?: CommitAndPathToStringHandler }\n\nexport const defaultCommitURLHandler = (commit: Commit) => `${commit.repo_url}/commit/${commit.hash}`\nexport const defaultReleaseTagURLHandler = (commit: Commit) => `${commit.repo_url}/releases/tag/${commit.tag}`\nexport const defaultReleaseTagsURLHandler = (commit: Commit) => commit.tags?.map(tag => `${commit.repo_url}/releases/tag/${tag}`)\n\nexport async function returnOrResolvePromise<T>(val: T | Promise<T>) {\n  if (!(val instanceof Promise))\n    return val\n\n  return await val\n}\n\nexport function rewritePaths(path: string, rewritePaths: Record<string, string>) {\n  // rewrite paths\n  for (const [key, value] of Object.entries(rewritePaths))\n    path = path.replace(key, value)\n\n  return path\n}\n\nexport async function rewritePathsByPatterns(commit: Commit, path: string, patterns?: RewritePathsBy): Promise<string> {\n  if (typeof patterns === 'undefined' || patterns === null)\n    return path\n\n  if ('handler' in patterns && typeof patterns.handler === 'function') {\n    const resolvedPath = await returnOrResolvePromise(patterns.handler(commit, path))\n    if (!resolvedPath)\n      return path\n\n    return resolvedPath\n  }\n\n  return path\n}\n\n/**\n * A rewritePathsBy.handler handler that rewrites paths by rewriting the extension.\n *\n * @example\n *\n * ```typescript\n * import { GitChangelog, rewritePathsByRewritingExtension } from '@nolebase/vitepress-plugin-git-changelog/vite'\n *\n * GitChangelog({\n *   rewritePathsBy: {\n *     // to rewrite `example.md` to `example.html`\n *     handler: rewritePathsByRewritingExtension('.md', '.html')\n *   }\n * })\n * ```\n *\n * @param from - The extension to rewrite from.\n * @param to - The extension to rewrite to.\n * @returns A handler that rewrites paths by rewriting the extension.\n */\nexport function rewritePathsByRewritingExtension(from: string, to: string) {\n  return (_: Commit, path: string) => {\n    const ext = extname(path)\n    if (ext !== from)\n      return path\n\n    return path.replace(new RegExp(`${from}$`), to)\n  }\n}\n\nexport function parseGitLogRefsAsTags(refs?: string): string[] {\n  if (!refs)\n    return []\n\n  const refsArray = refs.split(', ').map(ref => ref.trim())\n  const tags = refsArray.filter(ref => ref.startsWith('tag: '))\n  if (!tags)\n    return []\n\n  return tags.map(tag => tag.replace('tag: ', '').trim())\n}\n\n/**\n * Generate RegExp for filtering out paths of commits.\n *\n * It follows the rules that:\n * - includes is not set, it is /^.+.md$/\n * - includeDirs is set, it is /^(${includeDirs.join('|')})\\/.+.md$/\n * - includeExtensions is set, it is /^.+(${includeExtensions.join('|')})$/\n * - in another word, /^(includeDir1|includeDir2)\\/.+(includeExtension1|includeExtensions2)$/\n *\n * @deprecated\n */\nexport function generateCommitPathsRegExp(includeDirs: string[], includeExtensions: `.${string}`[]): RegExp {\n  return new RegExp(`^${includeDirs.length > 0 ? `(${includeDirs.join('|')})${sep === win32.sep ? win32.sep : `\\\\${posix.sep}`}` : ''}.+${includeExtensions.length > 0 ? `(${includeExtensions.join('|')})` : '.md'}$`)\n}\n\nexport async function getRawCommitLogs(file: string, maxGitLogCount?: number) {\n  const fileDir = dirname(file)\n  const fileName = basename(file)\n  /**\n   * The format of git log.\n   *\n   * ${commit_hash} ${author_name} ${author_email} ${author_date} ${subject} ${ref} ${body}\n   *\n   * @see {@link https://git-scm.com/docs/pretty-formats | documentation} for details.\n   *\n   * Note: Make sure that `body` is in last position, as `\\n` or `|` in body may breaks subsequent processing.\n   *\n   * @example stdout\n   *\n   * ```bash\n   * $ git log --format=\"%H|%an|%ae|%ad|%s|%d|%b[GIT_LOG_COMMIT_END]\" --follow docs/pages/en/integrations/index.md\n   * 62ef7ed8f54ea1faeacf6f6c574df491814ec1b1|Neko Ayaka|neko@ayaka.moe|Wed Apr 24 14:24:44 2024 +0800|docs: fix english integrations list||Signed-off-by: Neko Ayaka <neko@ayaka.moe>\n   * [GIT_LOG_COMMIT_END]\n   * 34357cc0956db77d1fc597327ba880d7eebf67ce|Rizumu Ayaka|rizumu@ayaka.moe|Mon Apr 22 22:51:24 2024 +0800|release: pre-release v2.0.0-rc10| (tag: v2.0.0-rc10)|Signed-off-by: Rizumu Ayaka <rizumu@ayaka.moe>\n   * [GIT_LOG_COMMIT_END]\n   * (END)\n   * ```\n   */\n  const format = '%H|%an|%ae|%ad|%s|%d|%b'\n  const { stdout } = await execa('git', ['log', `--max-count=${maxGitLogCount ?? -1}`, `--format=${format}[GIT_LOG_COMMIT_END]`, '--follow', '--', fileName], { cwd: fileDir })\n  // remove \"[GIT_LOG_COMMIT_END]\" in last line: split stdout into lines and avoid empty strings\n  return stdout.replace(/\\[GIT_LOG_COMMIT_END\\]$/, '').split('[GIT_LOG_COMMIT_END]\\n')\n}\n\nexport function getRelativePath(file: string, srcDir: string, cwd: string) {\n  cwd = normalizePath(cwd)\n  return file.replace(srcDir, '').replace(cwd, '').replace(/^\\//, '')\n}\n\nexport async function parseCommits(\n  path: string,\n  rawLogs: string[],\n  getRepoURL: CommitToStringHandler,\n  getCommitURL: CommitToStringHandler,\n  getReleaseTagURL: CommitToStringHandler,\n  getReleaseTagsURL: CommitToStringsHandler,\n  optsRewritePathsBy?: RewritePathsBy,\n): Promise<Commit[]> {\n  const commits = await Promise.all(rawLogs.map(async (raw) => {\n    const [hash, author_name, author_email, date, message, refs, body] = raw.split('|')\n    const commit: Commit = {\n      path,\n      hash,\n      date,\n      date_timestamp: 0,\n      message,\n      body,\n      author_name,\n      author_email,\n      author_avatar: '',\n    }\n\n    // rewrite path\n    if (typeof optsRewritePathsBy !== 'undefined')\n      commit.path = await rewritePathsByPatterns(commit, commit.path, optsRewritePathsBy)\n\n    // repo url\n    commit.repo_url = (await returnOrResolvePromise(getRepoURL(commit))) ?? 'https://github.com/example/example'\n    // hash url\n    commit.hash_url = (await returnOrResolvePromise(getCommitURL(commit))) ?? defaultCommitURLHandler(commit)\n\n    // remove `()` in refs, e.g. ` (tag: v2.0.0-rc7)`\n    const tags = parseGitLogRefsAsTags(refs?.replace(/[\\(\\)]/g, ''))\n\n    // release logs\n    if (tags && tags.length > 0) {\n      commit.tags = tags\n      commit.tag = commit.tags?.[0] || undefined\n      commit.release_tag_url = (await returnOrResolvePromise(getReleaseTagURL(commit))) ?? defaultReleaseTagURLHandler(commit)\n      commit.release_tags_url = (await returnOrResolvePromise(getReleaseTagsURL(commit))) ?? defaultReleaseTagsURLHandler(commit)\n    }\n\n    // timestamp\n    commit.date_timestamp = new Date(commit.date).getTime()\n    // generate author avatar based on md5 hash of email (gravatar style)\n    commit.author_avatar = await digestStringAsSHA256(commit.author_email)\n\n    return commit\n  }))\n\n  return commits\n}\n","import { cwd as _cwd } from 'node:process'\nimport type { Plugin } from 'vite'\nimport ora from 'ora'\nimport { cyan, gray } from 'colorette'\nimport { globby } from 'globby'\nimport { execa } from 'execa'\n\nimport type { Changelog, Commit } from '../types'\nimport {\n  type CommitToStringHandler,\n  type CommitToStringsHandler,\n  type RewritePathsBy,\n  defaultCommitURLHandler,\n  defaultReleaseTagURLHandler,\n  defaultReleaseTagsURLHandler,\n  getRawCommitLogs,\n  getRelativePath,\n  parseCommits,\n  rewritePathsByRewritingExtension,\n} from './helpers'\nimport type { GitChangelogOptions } from './types'\n\nexport type {\n  CommitToStringHandler,\n  CommitToStringsHandler,\n  RewritePathsBy,\n}\n\nexport {\n  rewritePathsByRewritingExtension,\n}\n\nconst VirtualModuleID = 'virtual:nolebase-git-changelog'\nconst ResolvedVirtualModuleId = `\\0${VirtualModuleID}`\n\nconst logModulePrefix = `${cyan(`@nolebase/vitepress-plugin-git-changelog`)}${gray(':')}`\n\nexport function GitChangelog(options: GitChangelogOptions = {}): Plugin {\n  if (!options)\n    options = {}\n\n  const {\n    cwd = _cwd(),\n    maxGitLogCount,\n    include = ['**/*.md', '!node_modules'],\n    repoURL = 'https://github.com/example/example',\n    getReleaseTagURL = defaultReleaseTagURLHandler,\n    getReleaseTagsURL = defaultReleaseTagsURLHandler,\n    getCommitURL = defaultCommitURLHandler,\n    rewritePathsBy,\n  } = options\n\n  let commits: Commit[] = []\n  let srcDir = ''\n\n  return {\n    name: '@nolebase/vitepress-plugin-git-changelog',\n    config: () => ({\n      optimizeDeps: {\n        include: [\n          // @rive-app/canvas is a CJS/UMD module, so it needs to be included here\n          // for Vite to properly bundle it.\n          '@nolebase/vitepress-plugin-git-changelog > @nolebase/ui > @rive-app/canvas',\n        ],\n        exclude: [\n          '@nolebase/vitepress-plugin-git-changelog/client',\n        ],\n      },\n      ssr: {\n        noExternal: [\n          '@nolebase/vitepress-plugin-git-changelog',\n          // @nolebase/ui required here as noExternal to avoid the following error:\n          // TypeError [ERR_UNKNOWN_FILE_EXTENSION]: Unknown file extension \".vue\" for ...\n          // Read more here: https://github.com/vuejs/vitepress/issues/2915\n          // And here: https://stackblitz.com/edit/vite-gjz9zf?file=docs%2F.vitepress%2Fconfig.ts\n          '@nolebase/ui',\n        ],\n      },\n    }),\n    configResolved(config) {\n      // @ts-expect-error The vitepress configuration is included in the vite configuration\n      srcDir = config.vitepress.srcDir\n    },\n    async buildStart() {\n      const startsAt = Date.now()\n\n      const spinner = ora(`${logModulePrefix} Prepare to gather git logs...`).start()\n\n      const getRepoURL = typeof repoURL === 'function' ? repoURL : () => repoURL\n\n      if (commits.length > 0)\n        return\n\n      // configure so that the git log messages can contain correct CJK characters\n      await execa('git', ['config', '--local', 'core.quotepath', 'false'])\n\n      spinner.text = `${logModulePrefix} Gathering git logs...`\n      spinner.color = 'yellow'\n\n      const paths = await globby(include, {\n        gitignore: true,\n        cwd,\n        absolute: true,\n      })\n\n      commits = (await Promise.all(\n        paths.map(async (path) => {\n          const rawLogs = await getRawCommitLogs(path, maxGitLogCount)\n          const relativePath = getRelativePath(path, srcDir, cwd)\n          return await parseCommits(relativePath, rawLogs, getRepoURL, getCommitURL, getReleaseTagURL, getReleaseTagsURL, rewritePathsBy)\n        }),\n      ))\n        .flat()\n\n      const elapsed = Date.now() - startsAt\n      spinner.succeed(`${logModulePrefix} Done. ${gray(`(${elapsed}ms)`)}`)\n    },\n    resolveId(id) {\n      if (id === VirtualModuleID)\n        return ResolvedVirtualModuleId\n    },\n    load(id) {\n      if (id !== ResolvedVirtualModuleId)\n        return null\n\n      const changelog: Changelog = {\n        commits,\n      }\n\n      return `export default ${JSON.stringify(changelog)}`\n    },\n  }\n}\n","const defaultEnLocale: Locale = {\n  gitChangelogMarkdownSectionTitles: {\n    changelog: 'Changelog',\n    contributors: 'Contributors',\n  },\n}\n\nconst defaultZhCNLocale: Locale = {\n  gitChangelogMarkdownSectionTitles: {\n    changelog: '页面历史',\n    contributors: '贡献者',\n  },\n}\n\nexport interface Locale extends Record<string, any> {\n  gitChangelogMarkdownSectionTitles?: {\n    changelog?: string\n    contributors?: string\n  }\n}\n\nexport {\n  defaultEnLocale,\n  defaultZhCNLocale,\n}\n\nexport const defaultLocales: Record<string, Locale> = {\n  'zh-CN': defaultZhCNLocale,\n  'zh-Hans': defaultZhCNLocale,\n  'zh': defaultZhCNLocale,\n  'en-US': defaultEnLocale,\n  'en': defaultEnLocale,\n}\n","import type { DefaultTheme, LocaleConfig } from 'vitepress'\n\nimport type { Helpers } from './helpers'\nimport type { GitChangelogMarkdownSectionOptions } from './types'\nimport { type Locale, defaultEnLocale, defaultLocales } from './locales'\n\nexport type I18nTHandler = (key: keyof Locale) => string | undefined\nexport interface LinksPair { language?: string, linkPrefix?: string }\n\nexport interface Options {\n  getChangelogTitle?: GitChangelogMarkdownSectionOptions['getChangelogTitle']\n  getContributorsTitle?: GitChangelogMarkdownSectionOptions['getContributorsTitle']\n}\n\ninterface VitePressConfigLike {\n  site: {\n    locales: Record<string, LocaleConfig<DefaultTheme.Config> | any>\n  }\n}\n\nfunction getValueByPropertyPaths<T extends PropertyKey>(path: T, obj?: Record<string, any>): string | undefined {\n  if (!obj)\n    return undefined\n\n  const properties = String(path).split('.')\n  let value = obj\n\n  for (const property of properties) {\n    value = value?.[property]\n    if (!value)\n      return undefined\n  }\n\n  if (typeof value === 'string')\n    return value\n\n  return String(value)\n}\n\nexport function createI18nWithLinksPairs(localesLinksPairs: Array<LinksPair>, helpers: Helpers, locales: Record<string, Locale>) {\n  function t(key: keyof Locale): string | undefined {\n    const foundLocales = localesLinksPairs\n      .filter(({ linkPrefix }) => {\n        if (!linkPrefix)\n          return false\n\n        const startsWith = helpers.idStartsWith(linkPrefix)\n        if (startsWith)\n          return true\n\n        return helpers.idStartsWith(linkPrefix.slice(1))\n      })\n\n    if (foundLocales.length === 0)\n      return\n\n    const language = foundLocales[0].language\n    if (!language)\n      return\n\n    const locale = locales?.[language]\n    if (!locale)\n      return\n\n    return getValueByPropertyPaths(key, locale)\n  }\n\n  return { t }\n}\n\nexport function tChangelogTitle(t: I18nTHandler, code: string, id: string, helpers: Helpers, options?: Options) {\n  const defaultValue = defaultEnLocale!.gitChangelogMarkdownSectionTitles!.changelog!\n\n  if (typeof options?.getChangelogTitle === 'function') {\n    const changelogTitle = options?.getChangelogTitle(code, id, { helpers })\n    if (changelogTitle)\n      return changelogTitle\n  }\n\n  return t('gitChangelogMarkdownSectionTitles.changelog') ?? defaultValue\n}\n\nexport function tContributorsTitle(t: I18nTHandler, code: string, id: string, helpers: Helpers, options?: Options) {\n  const defaultValue = defaultEnLocale!.gitChangelogMarkdownSectionTitles!.contributors!\n\n  if (typeof options?.getContributorsTitle === 'function') {\n    const contributorsTitle = options?.getContributorsTitle(code, id, { helpers })\n    if (contributorsTitle)\n      return contributorsTitle\n  }\n\n  return t('gitChangelogMarkdownSectionTitles.contributors') ?? defaultValue\n}\n\nexport function tTitles(\n  vitepressConfig: VitePressConfigLike,\n  options: GitChangelogMarkdownSectionOptions | undefined,\n  code: string,\n  id: string,\n  helpers: Helpers,\n) {\n  const localesLinksPairs = Object\n    .entries((vitepressConfig.site.locales))\n    .map(([_, config]) => ({ language: config.lang, linkPrefix: config.link }))\n\n  let locales: Record<string, Locale> = {}\n\n  if (typeof options?.locales !== 'undefined' && Object.keys(options.locales).length > 0)\n    locales = options.locales\n  else\n    locales = defaultLocales\n\n  const { t } = createI18nWithLinksPairs(localesLinksPairs, helpers, locales)\n  return {\n    changelogTitle: tChangelogTitle(t, code, id, helpers, options),\n    contributorsTitle: tContributorsTitle(t, code, id, helpers, options),\n  }\n}\n","import { relative } from 'node:path'\nimport type { Plugin } from 'vite'\nimport GrayMatter from 'gray-matter'\nimport type { SiteConfig } from 'vitepress'\n\nimport type { Locale } from './locales'\nimport { defaultEnLocale } from './locales'\nimport { createHelpers } from './helpers'\nimport type { Context, GitChangelogMarkdownSectionOptions } from './types'\nimport { tTitles } from './i18n'\n\ninterface VitePressConfig {\n  vitepress: SiteConfig\n}\n\nexport type {\n  GitChangelogMarkdownSectionOptions,\n  Context,\n  Locale,\n}\n\nexport function GitChangelogMarkdownSection(options?: GitChangelogMarkdownSectionOptions): Plugin {\n  const {\n    excludes = ['index.md'],\n    exclude = () => false,\n  } = options ?? {}\n\n  let root = ''\n  let vitepressConfig: SiteConfig\n\n  return {\n    name: '@nolebase/vitepress-plugin-git-changelog-markdown-section',\n    // May set to 'pre' since end user may use vitepress wrapped vite plugin to\n    // specify the plugins, which may cause this plugin to be executed after\n    // vitepress or the other markdown processing plugins.\n    enforce: 'pre',\n    configResolved(config) {\n      root = config.root ?? ''\n      vitepressConfig = (config as unknown as VitePressConfig).vitepress\n    },\n    transform(code, id) {\n      if (!id.endsWith('.md'))\n        return null\n\n      const helpers = createHelpers(root, id)\n\n      if (excludes.includes(relative(root, id)))\n        return null\n      if (exclude(id, { helpers }))\n        return null\n\n      const parsedMarkdownContent = GrayMatter(code)\n\n      if ('nolebase' in parsedMarkdownContent.data && 'gitChangelog' in parsedMarkdownContent.data.nolebase && !parsedMarkdownContent.data.nolebase.gitChangelog)\n        return null\n      if ('gitChangelog' in parsedMarkdownContent.data && !parsedMarkdownContent.data.gitChangelog)\n        return null\n\n      const { contributorsTitle, changelogTitle } = tTitles(vitepressConfig, options, code, id, helpers)\n      if (!options?.sections?.disableContributors)\n        code = TemplateContributors(code, contributorsTitle ?? defaultEnLocale!.gitChangelogMarkdownSectionTitles!.contributors!)\n      if (!options?.sections?.disableChangelog)\n        code = TemplateChangelog(code, changelogTitle ?? defaultEnLocale!.gitChangelogMarkdownSectionTitles!.changelog!)\n\n      return code\n    },\n  }\n}\n\nfunction TemplateContributors(code: string, title: string) {\n  return `${code}\n\n## ${title}\n\n<NolebaseGitContributors />\n`\n}\n\nfunction TemplateChangelog(code: string, title: string) {\n  return `${code}\n\n## ${title}\n\n<NolebaseGitChangelog />\n`\n}\n"],"names":["normalizePath","relative","subtle","extname","dirname","basename","execa","cyan","gray","_cwd","ora","globby","GrayMatter"],"mappings":"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"}